<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Configuration | Radare2book</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="Maijin">
        <meta name="description" content="Book generated using GitBook">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./ch4_visual_mode.html" />
        
        
        <link rel="prev" href="./ch1_introduction.html" />
        

        <meta property="og:title" content="Configuration | Radare2book">
        <meta property="og:site_name" content="Radare2book">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/Maijin">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="Maijin/radare2book" data-level="2" data-basepath="." data-revision="1397252382049">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/Maijin/radare2book" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/Maijin/radare2book/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/Maijin/radare2book/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="./" >Radare2book</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/Maijin" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/Maijin/radare2book/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/Maijin/radare2book/edit/master/ch2_configuration.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="ch1_introduction.html">
                
                <a href="./ch1_introduction.html">
                    <i class="fa fa-check"></i> <b>1)</b> Introduction
                </a>
                
                
            </li>
        
            <li  data-level="2" data-path="ch2_configuration.html">
                
                <a href="./ch2_configuration.html">
                    <i class="fa fa-check"></i> <b>2)</b> Configuration
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="ch4_visual_mode.html">
                
                <a href="./ch4_visual_mode.html">
                    <i class="fa fa-check"></i> <b>3)</b> Visual mode
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="ch5_searchbytes.html">
                
                <a href="./ch5_searchbytes.html">
                    <i class="fa fa-check"></i> <b>4)</b> Searching bytes
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="ch6_disassembling.html">
                
                <a href="./ch6_disassembling.html">
                    <i class="fa fa-check"></i> <b>5)</b> Disassembling
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="ch11_rabin2.html">
                
                <a href="./ch11_rabin2.html">
                    <i class="fa fa-check"></i> <b>6)</b> Rabin2
                </a>
                
                
            </li>
        
            <li  data-level="7" data-path="ch14_rasm2.html">
                
                <a href="./ch14_rasm2.html">
                    <i class="fa fa-check"></i> <b>7)</b> Rasm2
                </a>
                
                
            </li>
        
            <li  data-level="8" data-path="ch18_rahash2.html">
                
                <a href="./ch18_rahash2.html">
                    <i class="fa fa-check"></i> <b>8)</b> Rahash2
                </a>
                
                
            </li>
        
            <li  data-level="9" data-path="ch20_debugger.html">
                
                <a href="./ch20_debugger.html">
                    <i class="fa fa-check"></i> <b>9)</b> Debugger
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 22.22222222222222%;min-width: 11.11111111111111%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./ch1_introduction.html" title="Introduction" class="chapter done new-chapter" data-progress="1" style="left: 11.11111111111111%;"></a>
    
        <a href="./ch2_configuration.html" title="Configuration" class="chapter done new-chapter" data-progress="2" style="left: 22.22222222222222%;"></a>
    
        <a href="./ch4_visual_mode.html" title="Visual mode" class="chapter  new-chapter" data-progress="3" style="left: 33.333333333333336%;"></a>
    
        <a href="./ch5_searchbytes.html" title="Searching bytes" class="chapter  new-chapter" data-progress="4" style="left: 44.44444444444444%;"></a>
    
        <a href="./ch6_disassembling.html" title="Disassembling" class="chapter  new-chapter" data-progress="5" style="left: 55.55555555555556%;"></a>
    
        <a href="./ch11_rabin2.html" title="Rabin2" class="chapter  new-chapter" data-progress="6" style="left: 66.66666666666667%;"></a>
    
        <a href="./ch14_rasm2.html" title="Rasm2" class="chapter  new-chapter" data-progress="7" style="left: 77.77777777777777%;"></a>
    
        <a href="./ch18_rahash2.html" title="Rahash2" class="chapter  new-chapter" data-progress="8" style="left: 88.88888888888889%;"></a>
    
        <a href="./ch20_debugger.html" title="Debugger" class="chapter  new-chapter" data-progress="9" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_7">
                    
                        <h1 id="chapter-2-configuration">Chapter 2: Configuration</h1>
<p>The core reads ~/.radare2rc while starting, so you can setup there some <code>e</code> commands to set it up in your favorite way.</p>
<p>To avoid parsing this file, use <code>-n</code> and to get a cleaner output for using radare in batch mode maybe is better to just drop the verbosity with <code>-v</code>.</p>
<p>All the configuration of radare is done with the <code>eval</code> command which allows the user to change some variables from an internal hashtable containing string pairs.</p>
<p>The most common configuration looks like this:</p>
<pre><code>$ cat ~/<span class="hljs-preprocessor">.radarerc</span>
e scr<span class="hljs-preprocessor">.color</span> = true
e dbg<span class="hljs-preprocessor">.bep</span>   = loader
</code></pre><p>These configurations can be also defined using the <code>-e</code> flag of radare while loading it, so you can setup different initial configurations from the commandline without having to change to rc file.</p>
<pre><code>$ radare <span class="hljs-attribute">-n</span> <span class="hljs-attribute">-e</span> scr<span class="hljs-built_in">.</span>color<span class="hljs-subst">=</span><span class="hljs-literal">true</span> <span class="hljs-attribute">-e</span> asm<span class="hljs-built_in">.</span>syntax<span class="hljs-subst">=</span>intel <span class="hljs-attribute">-d</span> /bin/ls
</code></pre><p>All the configuration is stored in a hash table grouped by different root names (cfg., file., dbg., ..)</p>
<p>To get a list of the configuration variables just type <code>e</code> in the prompt. All the basic commands can be reduced to a single char. You can also list the configuration variables of a single eval configruation group ending the command argument with a dot <code>.</code>.</p>
<p>There are two enhanced interfaces to help users to interactively configure this hashtable. One is called <code>emenu</code> and provides a shell for walking through the tree and change variables.</p>
<p>To get a help about this command you can type <code>e?</code>:</p>
<pre><code>Usage: e[?] [var[=<span class="hljs-built_in">value</span>]]
e?              show this help
e?asm.<span class="hljs-keyword">bytes</span>     show description
e??             list config vars <span class="hljs-operator">with</span> description
e               list config vars
e-              reset config vars
e*              dump config vars <span class="hljs-operator">in</span> r commands
e!<span class="hljs-operator">a</span>             invert <span class="hljs-operator">the</span> boolean <span class="hljs-built_in">value</span> <span class="hljs-operator">of</span> <span class="hljs-string">'a'</span> var
er [key]        <span class="hljs-built_in">set</span> config key <span class="hljs-keyword">as</span> readonly. no way back
ec [k] [color]  <span class="hljs-built_in">set</span> color <span class="hljs-keyword">for</span> given key (prompt, <span class="hljs-built_in">offset</span>, ...)
e <span class="hljs-operator">a</span>             <span class="hljs-built_in">get</span> <span class="hljs-built_in">value</span> <span class="hljs-operator">of</span> var <span class="hljs-string">'a'</span>
e <span class="hljs-operator">a</span>=b           <span class="hljs-built_in">set</span> var <span class="hljs-string">'a'</span> <span class="hljs-operator">the</span> <span class="hljs-string">'b'</span> <span class="hljs-built_in">value</span>
env [k[=v]]     <span class="hljs-built_in">get</span>/<span class="hljs-built_in">set</span> environment <span class="hljs-built_in">variable</span>
</code></pre><p>There is a easier <code>e</code> interface accessible from the Visual mode, just typing <code>Ve</code> after entering this mode.</p>
<pre><code>Eval spaces:                                                                   

&gt;  anal                                                                        
   <span class="hljs-keyword">asm</span>                                                                         
   scr                                                                         
   <span class="hljs-keyword">asm</span>                                                                         
   bin                                                                         
   cfg                                                                         
   diff                                                                        
   dir                                                                         
   dbg                                                                         
   cmd                                                                         
   fs                                                                          
   hex                                                                         
   http                                                                        
   graph                                                                       
   hud                                                                         
   scr                                                                         
   search                                                                      
   io                                                                          
</code></pre><p>Most of the eval tree is quite stable, so don&#39;t expect hard changes on this area.</p>
<p>I encourage you to experiment a bit on this to fit the interface to your needs.</p>
<h2 id="2-1-colors">2.1 Colors</h2>
<p>The console access is wrapped by an API that permits to show the output of any command as ANSI, w32 console or HTML (more to come ncurses, pango, ...) this allows the core to be flexible enought to run on limited environments like kernels or embedded devices allowing us to get the feedback from the application in our favourite format.</p>
<p>To start, we&#39;ll enable the colors by default in our rc file:</p>
<pre><code>$ <span class="hljs-built_in">echo</span> <span class="hljs-string">'e scr.color=true'</span> &gt;&gt; ~/.radare2rc
</code></pre><p>You can configure the colors to be used in almost every element in your disassembly.
r2 supports rgb colors in unix terminals and allows to change the console color paletes using the <code>ec</code> command.</p>
<p>Type <code>ec</code> to get a list of all the palete elements.
Type <code>ecs</code> to show a color palete to pick colors from:</p>
<p><img src="http://lolcathost.org/b/r2pal.png" alt="img"></p>
<h4 id="xvilka-theme">xvilka theme</h4>
<pre><code>ec fname <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>cf
ec label <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>f3
ec math <span class="hljs-built_in">rgb</span>:<span class="hljs-number">660</span>
ec bin <span class="hljs-built_in">rgb</span>:f90
ec <span class="hljs-keyword">call</span> <span class="hljs-built_in">rgb</span>:f00
ec jmp <span class="hljs-built_in">rgb</span>:<span class="hljs-number">03</span>f
ec cjmp <span class="hljs-built_in">rgb</span>:<span class="hljs-number">33</span>c
ec offset <span class="hljs-built_in">rgb</span>:<span class="hljs-number">366</span>
ec comment <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>cf
ec push <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>c0
ec pop <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>c0
ec cmp <span class="hljs-built_in">rgb</span>:<span class="hljs-number">060</span>
ec nop <span class="hljs-built_in">rgb</span>:<span class="hljs-number">000</span>
ec b0x00 <span class="hljs-built_in">rgb</span>:<span class="hljs-number">444</span>
ec b0x7f <span class="hljs-built_in">rgb</span>:<span class="hljs-number">555</span>
ec b0xff <span class="hljs-built_in">rgb</span>:<span class="hljs-number">666</span>
ec btext <span class="hljs-built_in">rgb</span>:<span class="hljs-number">777</span>
ec other <span class="hljs-built_in">rgb</span>:bbb
ec num <span class="hljs-built_in">rgb</span>:f03
ec reg <span class="hljs-built_in">rgb</span>:<span class="hljs-number">6</span>f0
ec fline <span class="hljs-built_in">rgb</span>:fc0
ec flow <span class="hljs-built_in">rgb</span>:<span class="hljs-number">0</span>f0
</code></pre><p><img src="http://xvilka.me/r2-rainbow.png" alt="img"></p>
<h2 id="2-2-common-configuration-variables">2.2 Common configuration variables</h2>
<p>Here&#39;s a list of the most common eval configuration variables, you can get the complete list using the <code>e</code> command without arguments or just use <code>e cfg.</code> (ending with dot, to list all the configuration variables of the cfg. space). You can get help on any eval configuration variable using : <code>??e cfg.</code> for example</p>
<pre><code><span class="hljs-keyword">asm</span>.arch
</code></pre><p>Defines the architecture to be used while disassembling (pd, pD commands) and analyzing code (<code>a</code> command). Currently it handles <code>intel32</code>, <code>intel64</code>, <code>mips</code>, <code>arm16</code>, <code>arm</code> <code>java</code>, <code>csr</code>, <code>sparc</code>, <code>ppc</code>, <code>msil</code> and <code>m68k</code>.</p>
<p>It is quite simple to add new architectures for disassembling and analyzing code, so there is an interface adapted for the GNU disassembler and others for udis86 or handmade ones.</p>
<pre><code><span class="hljs-keyword">asm</span>.bits
</code></pre><p>This variable will change the <code>asm.arch</code> one (in radare1) and viceversa (is determined by asm.arch). It determines the size in bits of the registers for the selected architecture. This is 8, 16, 32, 64.</p>
<pre><code><span class="hljs-keyword">asm</span>.syntax
</code></pre><p>Defines the syntax flavour to be used while disassembling. This is currently only targeting the udis86 disassembler for the x86 (32/64 bits). The supported values are <code>intel</code> or <code>att</code>.</p>
<pre><code><span class="hljs-keyword">asm</span>.pseudo
</code></pre><p>Boolean value that determines which string disassembly engine to use (the native one defined by the architecture) or the one filtered to show pseudocode strings. This is <code>eax=ebx</code> instead of a <code>mov eax, ebx</code> for example.</p>
<pre><code>asm.<span class="hljs-built_in">os</span>
</code></pre><p>Defines the target operating system of the binary to analyze. This is automatically defined by <code>rabin -rI</code> and it&#39;s useful for switching between the different syscall tables and perform different depending on the OS.</p>
<pre><code><span class="hljs-keyword">asm</span>.flags
</code></pre><p>If defined to <code>true</code> shows the flags column inside the disassembly.</p>
<pre><code><span class="hljs-keyword">asm</span>.linescall
</code></pre><p>Draw lines at the left of the offset in the dissassemble print format (pd, pD) to graphically represent jumps and calls inside the current block.</p>
<pre><code><span class="hljs-keyword">asm</span>.linesout
</code></pre><p>When defined as <code>true</code>, also draws the jump lines in the current block that goes ouside of this block.</p>
<pre><code><span class="hljs-keyword">asm</span>.linestyle
</code></pre><p>Can get <code>true</code> or <code>false</code> values and makes the line analysis be performed from top to bottom if false or bottom to top if true. <code>false</code> is the optimal and default value for readability.</p>
<pre><code>asm.<span class="hljs-built_in">offset</span>
</code></pre><p>Boolean value that shows or hides the offset address of the disassembled opcode.</p>
<pre><code><span class="hljs-keyword">asm</span>.profile
</code></pre><p>Set how much information is showed to the user on disassembly. Can get the values <code>default</code>, <code>simple</code>, <code>gas</code>, <code>smart</code>, <code>debug</code>, <code>full</code>.</p>
<p>This eval will modify other asm. variables to change the visualization properties for the disassembler engine. <code>simple</code> asm.profile will show only offset+opcode, and <code>debug</code> will show information about traced opcodes, stack pointer delta, etc..</p>
<pre><code>asm.<span class="hljs-built_in">trace</span>
</code></pre><p>Show tracing information at the left of each opcode (sequence number and counter). This is useful to read execution traces of programs.</p>
<pre><code>asm.<span class="hljs-keyword">bytes</span>
</code></pre><p>Boolean value that shows or hides the bytes of the disassembled opcode.</p>
<pre><code>cfg<span class="hljs-preprocessor">.bigendian</span>
</code></pre><p>Choose the endian flavour <code>true</code> for big, <code>false</code> for little.</p>
<pre><code><span class="hljs-built_in">file</span>.analyze
</code></pre><p>Runs <code>.af* @@ sym.</code> and <code>.af* @ entrypoint</code>, after resolving the symbols while loading the binary, to determine the maximum information about the code analysis of the program. This will not be used while opening a project file, so it is preloaded. This option requires file.id and file.flag to be true.</p>
<pre><code>scr.<span class="hljs-keyword">color</span>
</code></pre><p>This boolean variable allows to enable or disable the colorized output</p>
<pre><code>scr.<span class="hljs-built_in">seek</span>
</code></pre><p>This variable accepts an expression, a pointer (eg. eip), etc. radare will automatically seek to make sure its value is always within the limits of the screen.</p>
<pre><code>cfg<span class="hljs-preprocessor">.fortunes</span>
</code></pre><p>Enables or disables the &#39;fortune&#39; message at the begining of the program</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./ch1_introduction.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./ch4_visual_mode.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        
    </body>
</html>
